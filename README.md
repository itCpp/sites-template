# Шаблон сайта

## Установка
```sh
git clone https://github.com/itCpp/sites-template
cd sites-template
composer install
```
При необходимости замените наименование каталога

## Отправка заявок
Для отправки заявок используется composer пакет `itcpp/sendrequest`
Маршурт обработки запроса по умолчанию определён по адресу **/itcpp/sendrequest**, принимает только **POST** запросы

Необходимо настроить идентифкационные данные для сайта. Настройки находятся в `.env` файле
- `APP_NAME` - Наименование сервера
- `APP_KEY` - Секретная информация, находится у роководителя IT-отдела
- `APP_URL` - Полный адрес сервера
- `EVENT_HANDLING_URL` - это полный адрес сервера, по которому идет приём данных, например `http://localhost/api/`

Для неудачной передачи данных можно включить запись информации в БД, для этого необходимо настроить подключение к базе данных в `.env` файле:
```php
DB_HOST=127.0.0.1
DB_DATABASE=homestead
DB_USERNAME=homestead
DB_PASSWORD=secret
```

Затем выполнить команду
```sh
php artisan migrate
```
Будет создана соответствующая таблица в указанной базе данных

При отсутствии подключения к БД информация о заявке будет записана в файле `/storage/app/faileds.json`

Более подробнее о пакете [itcpp/sendrequest](https://github.com/itCpp/sendrequest).